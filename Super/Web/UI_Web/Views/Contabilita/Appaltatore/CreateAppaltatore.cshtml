@model Core_Web.Models.Super.Contabilita.Appaltatore.CreateAppaltatoreModel
@{
    ViewBag.Title = "add appaltatore";
    Layout = string.Empty;
}
<div id="error_mssg" class="hidden"></div>
<form id="formDetails">
    <fieldset>
        <legend>Appaltatore</legend>
        <div class="editor-label">
            @Html.LabelFor(model => model.Description)*
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.Description, new { @class = "validate[required]" })
        </div>

    </fieldset>
    @Html.HiddenFor(model => model.Id)
    @Html.HiddenFor(model => model.CommitId)
    @Html.HiddenFor(model => model.Version)
</form>
<script type="text/javascript">

    $(document).ready(function () {
        $('.datepicker').datepicker({ dateFormat: "dd/mm/yy" });
        jQuery("#formDetails").validationEngine();


        viewModel.Accept = function (viewmodel) {

            jQuery('#formDetails').validationEngine({ scroll: false });
            if (jQuery('#formDetails').validationEngine('validate')) {

                var id = $('#Id').val();
                var commitId = $('#CommitId').val();
                var version = $('#Version').val();
                var description = $('#Description').val();


                try {
                    var command = new CreateAppaltatore(id, commitId, version, description);
                    viewmodel.CreateAppaltatore(command);
                } catch (e) {
                    alert(e);
                }
            }
        };

    });


</script>
